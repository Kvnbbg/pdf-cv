/**
 * Created on 10:35 2019/03/26.
 * file name EComponent
 * by wangtieshan
 */

import React from 'react';

/**
 * 基础组件类，此类提供一些便捷方法，处理一些繁琐的方法
 */
export class EComponent extends React.Component {

    static navigationOptions = ({ navigation }) => {
        let navigationConfig = navigation.getParam('_navigationBarConfigGetter');
        return navigationConfig ? navigationConfig() : {};
    };

    navigationConfig: any;

    constructor(props) {
        super(props);
        if (props && props.navigation) {
            props.navigation.setParams({
                _navigationBarConfigGetter: () => {
                    const type = typeof this.navigationConfig;
                    if (type === 'object') {
                        return this.navigationConfig;
                    } else if (type === 'function') {
                        return this.navigationConfig;
                    }
                    return {};
                }
            })
        }
    }

    navigateTo(name: string, options: any) {
        if (this.props && this.props.navigation) {
            this.props.navigation.navigate(name, options)
        }
    }
}