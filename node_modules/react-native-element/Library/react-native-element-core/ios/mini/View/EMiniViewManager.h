//
//  EMiniViewManager.h
//  reactnativeelement
//
//  Created by 王铁山 on 2018/5/13.
//  Copyright © 2018年 王铁山. All rights reserved.
//

#import <Foundation/Foundation.h>

#import "EMiniBaseViewController.h"

@interface EMiniViewManager : NSObject

+ (instancetype)share;

/**
 添加一个控制

 @param vc 控制器
 */
- (void)appendNewView: (EMiniBaseViewController *)vc;

/**
 获取某个小程序所有的控制器

 @param miniId 小程序ID
 @return 所有的控制器
 */
- (NSArray *)viewsByMiniId: (NSString *)miniId;

/**
 获取控制器

 @param miniId 小程序ID
 @param uuid uuid
 @return instance
 */
- (EMiniBaseViewController *)viewByMiniId: (NSString *)miniId uui: (NSString *)uuid;

/**
 销毁控制的某一个控制器

 @param miniId 小程序ID
 @param uuid 编号
 */
- (void)dismissMiniId:(NSString *)miniId uuid: (NSString *)uuid;

- (void)dismissMiniId:(NSString *)miniId uuid: (NSString *)uuid animated: (BOOL)animated;
@end


@interface EMiniViewManager (info)

/**
 设置该小程序已经检查更新过

 @param miniId 小程序ID
 */
+ (void)setHasCheckUpdate: (NSString *)miniId;

/**
 是否该小程序已经更新过

 @param miniId 小程序ID
 @return 是否已经更新
 */
+ (BOOL)hasCheckUpdate: (NSString *)miniId;

/**
 随机获取小程序页面编号
 
 @param miniId 小程序ID
 @return 编号
 */
+ (NSString *)getUUID: (NSString *)miniId;

/**
 是否指定小程序已经开启了 debug 模式
 
 @param miniId 小程序ID
 @return 是否已经开启小程序 debug
 */
+ (BOOL) hasOpenDebug: (NSString *)miniId;

/**
 debug 下的参数
 
 @param miniId 小程序ID
 @return debug 参数
 */
+ (NSDictionary *)debugParams: (NSString *)miniId;

/**
 打开指定小程序的 debug 模式
 
 @param miniId 小程序ID
 @param options 配置
 */
+ (void) openDebug: (NSString *)miniId options: (NSDictionary *)options;

/**
 关闭指定小程序的 debug 模式
 
 @param miniId 小程序ID
 */
+ (void) closeDebug: (NSString *)miniId;

/**
 记录最新的测试IP地址
 
 @param ip IP地址
 */
+ (void) recordLatestDebugIp: (NSString *)ip;

/**
 获取最新的测试IP地址
 
 @return IP地址
 */
+ (NSString *)latestDebugIp;
@end
